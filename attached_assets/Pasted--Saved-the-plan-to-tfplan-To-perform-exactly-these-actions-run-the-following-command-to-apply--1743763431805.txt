
Saved the plan to: tfplan

To perform exactly these actions, run the following command to apply:
    terraform apply "tfplan"
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree$  terraform apply "tfplan"
module.networking.aws_eip.nat: Creating...
module.ecs.aws_cloudwatch_log_group.app["flask-app"]: Creating...
module.ecs.aws_cloudwatch_log_group.app["nextjs-app"]: Creating...
module.networking.aws_vpc.main: Creating...
module.ecs.aws_cloudwatch_log_group.app["fastapi-app"]: Creating...
module.ecs.aws_iam_role.ecs_task_execution_role: Creating...
module.ecr.aws_ecr_repository.app["nextjs-app"]: Creating...
module.ecr.aws_ecr_repository.app["flask-app"]: Creating...
module.ecr.aws_ecr_repository.app["fastapi-app"]: Creating...
module.ecs.aws_ecs_cluster.main: Creating...
module.ecs.aws_cloudwatch_log_group.app["fastapi-app"]: Creation complete after 1s [id=/ecs/dev-fastapi-app]
module.ecs.aws_cloudwatch_log_group.app["nextjs-app"]: Creation complete after 1s [id=/ecs/dev-nextjs-app]
module.ecs.aws_cloudwatch_log_group.app["flask-app"]: Creation complete after 1s [id=/ecs/dev-flask-app]
module.networking.aws_eip.nat: Creation complete after 2s [id=eipalloc-0b9735fb5ac9a7922]
module.ecs.aws_iam_role.ecs_task_execution_role: Creation complete after 3s [id=dev-ecs-task-execution-role]
module.ecs.aws_iam_role_policy_attachment.ecs_task_execution_role_policy: Creating...
module.ecs.aws_iam_role_policy_attachment.ecs_task_execution_role_policy: Creation complete after 0s [id=dev-ecs-task-execution-role-20250404104033107800000001]
module.networking.aws_vpc.main: Still creating... [10s elapsed]
module.ecs.aws_ecs_cluster.main: Still creating... [10s elapsed]
module.ecs.aws_ecs_cluster.main: Creation complete after 12s [id=arn:aws:ecs:ap-southeast-1:321225686735:cluster/dev-cluster]
module.networking.aws_vpc.main: Creation complete after 15s [id=vpc-09e7df274bdd0e07c]
module.networking.aws_security_group.lb: Creating...
module.ecs.aws_security_group.lb: Creating...
module.networking.aws_subnet.private[0]: Creating...
module.networking.aws_subnet.public[1]: Creating...
module.networking.aws_internet_gateway.igw: Creating...
module.networking.aws_subnet.public[0]: Creating...
module.networking.aws_subnet.private[1]: Creating...
module.ecs.aws_lb_target_group.app["fastapi-app"]: Creating...
module.ecs.aws_lb_target_group.app["flask-app"]: Creating...
module.ecs.aws_lb_target_group.app["nextjs-app"]: Creating...
module.networking.aws_internet_gateway.igw: Creation complete after 1s [id=igw-0933522229d116b0f]
module.networking.aws_route_table.public: Creating...
module.networking.aws_subnet.private[1]: Creation complete after 1s [id=subnet-08191eec1a445f66f]
module.networking.aws_route_table.public: Creation complete after 1s [id=rtb-09b3ccc673e39f8a6]
module.networking.aws_subnet.private[0]: Creation complete after 2s [id=subnet-023e0ab8ea554e8e1]
module.ecs.aws_security_group.lb: Creation complete after 3s [id=sg-0405fcb3cffae3a62]
module.ecs.aws_security_group.ecs_task: Creating...
module.networking.aws_security_group.lb: Creation complete after 3s [id=sg-04b24d5470b2b326e]
module.networking.aws_security_group.ecs: Creating...
module.networking.aws_security_group.ecs: Creation complete after 2s [id=sg-0d923231d9312ca0c]
module.ecs.aws_security_group.ecs_task: Creation complete after 2s [id=sg-01ac5d88ff7fe2cbd]
module.networking.aws_subnet.public[0]: Still creating... [10s elapsed]
module.networking.aws_subnet.public[1]: Still creating... [10s elapsed]
module.networking.aws_subnet.public[0]: Creation complete after 11s [id=subnet-03d8bcc5f438168bb]
module.networking.aws_nat_gateway.nat: Creating...
module.networking.aws_subnet.public[1]: Creation complete after 11s [id=subnet-0f6ab827a02c10860]
module.networking.aws_route_table_association.public[0]: Creating...
module.networking.aws_route_table_association.public[1]: Creating...
module.ecs.aws_lb.main: Creating...
module.networking.aws_route_table_association.public[1]: Creation complete after 1s [id=rtbassoc-03c2a9d6c69ebd109]
module.networking.aws_route_table_association.public[0]: Creation complete after 1s [id=rtbassoc-0b878409342301525]
module.networking.aws_nat_gateway.nat: Still creating... [10s elapsed]
module.ecs.aws_lb.main: Still creating... [10s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [20s elapsed]
module.ecs.aws_lb.main: Still creating... [20s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [32s elapsed]
module.ecs.aws_lb.main: Still creating... [32s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [42s elapsed]
module.ecs.aws_lb.main: Still creating... [42s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [52s elapsed]
module.ecs.aws_lb.main: Still creating... [52s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [1m4s elapsed]
module.ecs.aws_lb.main: Still creating... [1m4s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [1m14s elapsed]
module.ecs.aws_lb.main: Still creating... [1m14s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [1m24s elapsed]
module.ecs.aws_lb.main: Still creating... [1m24s elapsed]
module.ecs.aws_lb.main: Still creating... [1m36s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [1m37s elapsed]
module.ecs.aws_lb.main: Still creating... [1m46s elapsed]
module.networking.aws_nat_gateway.nat: Still creating... [1m47s elapsed]
module.networking.aws_nat_gateway.nat: Creation complete after 1m50s [id=nat-068d18d1a71185a30]
module.networking.aws_route_table.private: Creating...
module.networking.aws_route_table.private: Creation complete after 3s [id=rtb-0285ebf74b230f80e]
module.networking.aws_route_table_association.private[0]: Creating...
module.networking.aws_route_table_association.private[1]: Creating...
module.ecs.aws_lb.main: Still creating... [1m56s elapsed]
module.networking.aws_route_table_association.private[0]: Creation complete after 1s [id=rtbassoc-0091a38c6a17d271c]
module.networking.aws_route_table_association.private[1]: Creation complete after 1s [id=rtbassoc-0cc1ff27f0c9a64a4]
module.ecs.aws_lb.main: Still creating... [2m8s elapsed]
module.ecs.aws_lb.main: Still creating... [2m18s elapsed]
module.ecs.aws_lb.main: Still creating... [2m28s elapsed]
╷
│ Error: creating ECR Repository (dev-nextjs-app): operation error ECR: CreateRepository, https response error StatusCode: 400, RequestID: 6a7873a4-8119-4b18-9b25-6ba7717dadda, api error AccessDeniedException: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: ecr:CreateRepository on resource: arn:aws:ecr:ap-southeast-1:321225686735:repository/dev-nextjs-app because no identity-based policy allows the ecr:CreateRepository action
│
│   with module.ecr.aws_ecr_repository.app["nextjs-app"],
│   on modules/ecr/main.tf line 3, in resource "aws_ecr_repository" "app":
│    3: resource "aws_ecr_repository" "app" {
│
╵
╷
│ Error: creating ECR Repository (dev-flask-app): operation error ECR: CreateRepository, https response error StatusCode: 400, RequestID: 29657e4e-26e2-47f4-a0d2-83a6b7782165, api error AccessDeniedException: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: ecr:CreateRepository on resource: arn:aws:ecr:ap-southeast-1:321225686735:repository/dev-flask-app because no identity-based policy allows the ecr:CreateRepository action
│
│   with module.ecr.aws_ecr_repository.app["flask-app"],
│   on modules/ecr/main.tf line 3, in resource "aws_ecr_repository" "app":
│    3: resource "aws_ecr_repository" "app" {
│
╵
╷
│ Error: creating ECR Repository (dev-fastapi-app): operation error ECR: CreateRepository, https response error StatusCode: 400, RequestID: 1dfe2e2c-2268-49a2-80ba-ea71c20940f1, api error AccessDeniedException: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: ecr:CreateRepository on resource: arn:aws:ecr:ap-southeast-1:321225686735:repository/dev-fastapi-app because no identity-based policy allows the ecr:CreateRepository action
│
│   with module.ecr.aws_ecr_repository.app["fastapi-app"],
│   on modules/ecr/main.tf line 3, in resource "aws_ecr_repository" "app":
│    3: resource "aws_ecr_repository" "app" {
│
╵
╷
│ Error: modifying ELBv2 Load Balancer (arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:loadbalancer/app/dev-alb/aae4b1f592bd8120) attributes: operation error Elastic Load Balancing v2: ModifyLoadBalancerAttributes, https response error StatusCode: 403, RequestID: ffff1af1-92c1-47c5-8cdc-5eda68648455, api error AccessDenied: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: elasticloadbalancing:ModifyLoadBalancerAttributes on resource: arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:loadbalancer/app/dev-alb/aae4b1f592bd8120 because no identity-based policy allows the elasticloadbalancing:ModifyLoadBalancerAttributes action
│
│   with module.ecs.aws_lb.main,
│   on modules/ecs/main.tf line 18, in resource "aws_lb" "main":
│   18: resource "aws_lb" "main" {
│
╵
╷
│ Error: modifying ELBv2 Target Group (arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:targetgroup/dev-flask-app-tg/2b5c4115b26a82b6) attributes: operation error Elastic Load Balancing v2: ModifyTargetGroupAttributes, https response error StatusCode: 403, RequestID: 06bfe921-2ed5-4864-88f2-68b215abdb0f, api error AccessDenied: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: elasticloadbalancing:ModifyTargetGroupAttributes on resource: arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:targetgroup/dev-flask-app-tg/2b5c4115b26a82b6 because no identity-based policy allows the elasticloadbalancing:ModifyTargetGroupAttributes action
│
│   with module.ecs.aws_lb_target_group.app["flask-app"],
│   on modules/ecs/main.tf line 34, in resource "aws_lb_target_group" "app":
│   34: resource "aws_lb_target_group" "app" {
│
╵
╷
│ Error: modifying ELBv2 Target Group (arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:targetgroup/dev-fastapi-app-tg/0495432e3f0762a8) attributes: operation error Elastic Load Balancing v2: ModifyTargetGroupAttributes, https response error StatusCode: 403, RequestID: b3570adf-4cb4-47a3-88f8-a557e99fb1ab, api error AccessDenied: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: elasticloadbalancing:ModifyTargetGroupAttributes on resource: arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:targetgroup/dev-fastapi-app-tg/0495432e3f0762a8 because no identity-based policy allows the elasticloadbalancing:ModifyTargetGroupAttributes action
│
│   with module.ecs.aws_lb_target_group.app["fastapi-app"],
│   on modules/ecs/main.tf line 34, in resource "aws_lb_target_group" "app":
│   34: resource "aws_lb_target_group" "app" {
│
╵
╷
│ Error: modifying ELBv2 Target Group (arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:targetgroup/dev-nextjs-app-tg/2f1379a6488d0594) attributes: operation error Elastic Load Balancing v2: ModifyTargetGroupAttributes, https response error StatusCode: 403, RequestID: f69c0fce-9f42-4a59-b48c-a57392d84047, api error AccessDenied: User: arn:aws:iam::321225686735:user/draiimon is not authorized to perform: elasticloadbalancing:ModifyTargetGroupAttributes on resource: arn:aws:elasticloadbalancing:ap-southeast-1:321225686735:targetgroup/dev-nextjs-app-tg/2f1379a6488d0594 because no identity-based policy allows the elasticloadbalancing:ModifyTargetGroupAttributes action
│
│   with module.ecs.aws_lb_target_group.app["nextjs-app"],
│   on modules/ecs/main.tf line 34, in resource "aws_lb_target_group" "app":
│   34: resource "aws_lb_target_group" "app" {
│
╵
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree$
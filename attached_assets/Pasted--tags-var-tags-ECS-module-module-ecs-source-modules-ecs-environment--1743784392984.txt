  tags = var.tags
}

# ECS module
module "ecs" {
  source = "./modules/ecs"

  environment         = var.environment
  ecr_repository_url  = module.ecr.repository_url
  vpc_id              = module.networking.vpc_id
  public_subnet_ids   = module.networking.public_subnet_ids
  private_subnet_ids  = module.networking.private_subnet_ids
  app_port            = var.app_port
  health_check_path   = var.health_check_path
  container_memory    = var.container_memory
  container_cpu       = var.container_cpu
  desired_count       = var.desired_count
  max_count           = var.max_count
  min_count           = var.min_count
  service_name        = var.service_name

  tags = var.tags
}
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree/Terraform$
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree/Terraform$ # I-edit ang main.tf para idagdag ang settings mula sa providers.tf
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree/Terraform$ # Pagkatapos, delete ang providers.tf
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree/Terraform$ rm providers.tf
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree/Terraform$ terraform init
erraform planInitializing the backend...

Initializing modules...
Initializing provider plugins...
- Finding latest version of hashicorp/aws...
- Installing hashicorp/aws v5.94.0...
- Installed hashicorp/aws v5.94.0 (signed by HashiCorp)
Terraform has created a lock file .terraform.lock.hcl to record the provider
selections it made above. Include this file in your version control repository
so that Terraform can guarantee to make the same selections by default when
you run "terraform init" in the future.

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 3/Oaktree/Terraform$ terraform plan

